<Project>
  <PropertyGroup>
    <HotPathAllocationAnalyzerConfigurationVersion>1.0.9</HotPathAllocationAnalyzerConfigurationVersion>
    <HotPathAllocationAnalyzerConfigurationOutputPath>$(MSBuildProjectDirectory)</HotPathAllocationAnalyzerConfigurationOutputPath>
    <HotPathAllocationAnalyzerConfigurationBinary>$(NuGetPackageRoot)/HotPathAllocationAnalyzer.Analyzers.configuration/$(HotPathAllocationAnalyzerConfigurationVersion)/bin/HotPathAllocationAnalyzer.Analyzers.Configuration.exe</HotPathAllocationAnalyzerConfigurationBinary>
  </PropertyGroup>
  <Target Name="GenerateAnalyzerConfiguration" BeforeTargets="CoreCompile" Condition="'$(IsRunningHotPathAllocationAnalyzerConfiguration)' == '' and '$(DesignTimeBuild)' != 'true'" Inputs="@(Compile)" Outputs="$(HotPathAllocationAnalyzerConfigurationOutputPath)/whitelist.txt">
    <Exec Command="$(HotPathAllocationAnalyzerConfigurationBinary) $(HotPathAllocationAnalyzerConfigurationOutputPath)" />
  </Target>
</Project>